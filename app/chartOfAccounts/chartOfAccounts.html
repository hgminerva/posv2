<section id="chartOfAccounts-page" class="container">
    
    <h4>Chart of Accounts</h4>
    
    <tabs (click)="refresh()">
        
        <tab tabTitle="Chart Of Accounts">
            <div class="row">
                <div class="col-sm-12">
                    <h4></h4>    
                    <wj-flex-grid #flexAccount
                                class="grid" 
                                [itemsSource]="collectionAccount">  
                        
                        <wj-flex-grid-column [header]="" [isReadOnly]="true" [width]="60">
                            <template wjFlexGridCellTemplate [cellType]="'Cell'" #cell="cell">
                                <button class="btn btn-primary sharp" (click)="openAccountModal(false)">
                                        Edit
                                </button>
                            </template>
                        </wj-flex-grid-column>     
                                    
                        <wj-flex-grid-column [header]="" [isReadOnly]="true" [width]="60">
                            <template wjFlexGridCellTemplate [cellType]="'Cell'" #cell="cell">
                                <button class="btn btn-danger sharp" (click)="openDelAccountModal()">
                                        Del
                                </button>
                            </template>
                        </wj-flex-grid-column>    
                        
                        <wj-flex-grid-column [header]="'Code'" [binding]="'accountCode'" [isReadOnly]="true" [width]="100">  
                        </wj-flex-grid-column>     
                            
                        <wj-flex-grid-column [header]="'Account'" [binding]="'account'" [isReadOnly]="true" [width]="'*'">  
                        </wj-flex-grid-column>     
                        
                        <wj-flex-grid-column [header]="'Type'" [binding]="'accountType'" [isReadOnly]="true" [width]="'*'">  
                        </wj-flex-grid-column>       
                        
                        <wj-flex-grid-column [header]="'Cash Flow'" [binding]="'accountCashFlow'" [isReadOnly]="true" [width]="'*'">  
                        </wj-flex-grid-column>  
                                                                                            
                    </wj-flex-grid>                      
                </div>
            </div> 
            
            <div class="row">
                <div class="col-sm-6 btn-group">
                    <button type="submit" class="btn btn-primary pull-left sharp" (click)="openAccountModal(true)">Add</button>
                </div>       
                
                <div class="col-sm-6 btn-group" id="navAccountCategory">
                    <button type="button" class="btn btn-default pull-right sharp" (click)="collectionAccount.moveToFirstPage()">
                        <span class="glyphicon glyphicon-fast-backward"></span>
                    </button>
                    <button type="button" class="btn btn-default pull-right sharp" (click)="collectionAccount.moveToPreviousPage()">
                        <span class="glyphicon glyphicon-step-backward"></span>
                    </button>
                    <button type="button" class="btn btn-default pull-right sharp" disabled  style="width:100px">
                        {{collectionAccount.pageIndex + 1}} / {{collectionAccount.pageCount}}
                    </button>
                    <button type="button" class="btn btn-default pull-right sharp" (click)="collectionAccount.moveToNextPage()">
                        <span class="glyphicon glyphicon-step-forward"></span>
                    </button>
                    <button type="button" class="btn btn-default pull-right sharp" (click)="collectionAccount.moveToLastPage()">
                        <span class="glyphicon glyphicon-fast-forward"></span>
                    </button>
                </div> 
            </div>              
        </tab>

        <tab tabTitle="Account Type">
            <div class="row">
                <div class="col-sm-12">
                    <h4></h4>   
                    <wj-flex-grid #flexAccountType
                                  class="grid" 
                                  [itemsSource]="collectionAccountType">  
                        
                        <wj-flex-grid-column [header]="" [isReadOnly]="true" [width]="60">
                            <template wjFlexGridCellTemplate [cellType]="'Cell'" #cell="cell">
                                <button class="btn btn-primary sharp" (click)="openAccountTypeModal(false)">
                                        Edit
                                </button>
                            </template>
                        </wj-flex-grid-column>     
                                    
                        <wj-flex-grid-column [header]="" [isReadOnly]="true" [width]="60">
                            <template wjFlexGridCellTemplate [cellType]="'Cell'" #cell="cell">
                                <button class="btn btn-danger sharp" (click)="openDelAccountTypeModal()">
                                        Del
                                </button>
                            </template>
                        </wj-flex-grid-column>    
                        
                        <wj-flex-grid-column [header]="'Code'" [binding]="'accountTypeCode'" [isReadOnly]="true" [width]="100">  
                        </wj-flex-grid-column>     
                            
                        <wj-flex-grid-column [header]="'Account Type'" [binding]="'accountType'" [isReadOnly]="true" [width]="'*'">  
                        </wj-flex-grid-column>     
                        
                        <wj-flex-grid-column [header]="'Sub Category'" [binding]="'subCategoryDescription'" [isReadOnly]="true" [width]="'*'">  
                        </wj-flex-grid-column> 
                                                
                        <wj-flex-grid-column [header]="'Category'" [binding]="'accountCategory'" [isReadOnly]="true" [width]="'*'">  
                        </wj-flex-grid-column>                                           
                    </wj-flex-grid>                           
                </div>
            </div> 
            <div class="row">
                <div class="col-sm-6 btn-group">
                    <button type="submit" class="btn btn-primary pull-left sharp" (click)="openAccountTypeModal(true)">Add</button>
                </div>       
                
                <div class="col-sm-6 btn-group" id="navAccountCategory">
                    <button type="button" class="btn btn-default pull-right sharp" (click)="collectionAccountType.moveToFirstPage()">
                        <span class="glyphicon glyphicon-fast-backward"></span>
                    </button>
                    <button type="button" class="btn btn-default pull-right sharp" (click)="collectionAccountType.moveToPreviousPage()">
                        <span class="glyphicon glyphicon-step-backward"></span>
                    </button>
                    <button type="button" class="btn btn-default pull-right sharp" disabled  style="width:100px">
                        {{collectionAccountType.pageIndex + 1}} / {{collectionAccountType.pageCount}}
                    </button>
                    <button type="button" class="btn btn-default pull-right sharp" (click)="collectionAccountType.moveToNextPage()">
                        <span class="glyphicon glyphicon-step-forward"></span>
                    </button>
                    <button type="button" class="btn btn-default pull-right sharp" (click)="collectionAccountType.moveToLastPage()">
                        <span class="glyphicon glyphicon-fast-forward"></span>
                    </button>
                </div> 
            </div>             
        </tab>

        <tab tabTitle="Account Category">
            <div class="row">
                <div class="col-sm-12">
                    <h4></h4>    
                    <wj-flex-grid #flexAccountCategory 
                                class="grid" 
                                [itemsSource]="collectionAccountCategory">  
                        
                        <wj-flex-grid-column [header]="" [isReadOnly]="true" [width]="60">
                            <template wjFlexGridCellTemplate [cellType]="'Cell'" #cell="cell">
                                <button class="btn btn-primary sharp" (click)="openAccountCategoryModal(false)">
                                        Edit
                                </button>
                            </template>
                        </wj-flex-grid-column>     
                                    
                        <wj-flex-grid-column [header]="" [isReadOnly]="true" [width]="60">
                            <template wjFlexGridCellTemplate [cellType]="'Cell'" #cell="cell">
                                <button class="btn btn-danger sharp" (click)="openDelAccountCategoryModal()">
                                        Del
                                </button>
                            </template>
                        </wj-flex-grid-column>    
                        
                        <wj-flex-grid-column [header]="'Code'" [binding]="'accountCategoryCode'" [isReadOnly]="true" [width]="100">  
                        </wj-flex-grid-column>     
                            
                        <wj-flex-grid-column [header]="'Account Category'" [binding]="'accountCategory'" [isReadOnly]="true" [width]="'*'">  
                        </wj-flex-grid-column>     
                                                
                    </wj-flex-grid>                     
                </div>
            </div>  
            <div class="row">
                <div class="col-sm-6 btn-group">
                    <button type="submit" class="btn btn-primary pull-left sharp" (click)="openAccountCategoryModal(true)">Add</button>
                </div>       
                
                <div class="col-sm-6 btn-group" id="navAccountCategory">
                    <button type="button" class="btn btn-default pull-right sharp" (click)="collectionAccountCategory.moveToFirstPage()">
                        <span class="glyphicon glyphicon-fast-backward"></span>
                    </button>
                    <button type="button" class="btn btn-default pull-right sharp" (click)="collectionAccountCategory.moveToPreviousPage()">
                        <span class="glyphicon glyphicon-step-backward"></span>
                    </button>
                    <button type="button" class="btn btn-default pull-right sharp" disabled  style="width:100px">
                        {{collectionAccountCategory.pageIndex + 1}} / {{collectionAccountCategory.pageCount}}
                    </button>
                    <button type="button" class="btn btn-default pull-right sharp" (click)="collectionAccountCategory.moveToNextPage()">
                        <span class="glyphicon glyphicon-step-forward"></span>
                    </button>
                    <button type="button" class="btn btn-default pull-right sharp" (click)="collectionAccountCategory.moveToLastPage()">
                        <span class="glyphicon glyphicon-fast-forward"></span>
                    </button>
                </div> 
            </div>                   
        </tab>

        <tab tabTitle="Cash Flow">
            <div class="row">
                <div class="col-sm-12">
                    <h4></h4>    
                    <wj-flex-grid #flexAccountCashFlow
                                class="grid" 
                                [itemsSource]="collectionAccountCashFlow">  
                        
                        <wj-flex-grid-column [header]="" [isReadOnly]="true" [width]="60">
                            <template wjFlexGridCellTemplate [cellType]="'Cell'" #cell="cell">
                                <button class="btn btn-primary sharp" (click)="openAccountCashFlowModal(false)">
                                        Edit
                                </button>
                            </template>
                        </wj-flex-grid-column>     
                                    
                        <wj-flex-grid-column [header]="" [isReadOnly]="true" [width]="60">
                            <template wjFlexGridCellTemplate [cellType]="'Cell'" #cell="cell">
                                <button class="btn btn-danger sharp" (click)="openDelAccountCashFlowModal()">
                                        Del
                                </button>
                            </template>
                        </wj-flex-grid-column>    
                        
                        <wj-flex-grid-column [header]="'Code'" [binding]="'accountCashFlowCode'" [isReadOnly]="true" [width]="100">  
                        </wj-flex-grid-column>     
                            
                        <wj-flex-grid-column [header]="'Cash Flow'" [binding]="'accountCashFlow'" [isReadOnly]="true" [width]="'*'">  
                        </wj-flex-grid-column>     
                                                
                    </wj-flex-grid>                      
                </div>
            </div> 
            <div class="row">
                <div class="col-sm-6 btn-group">
                    <button type="submit" class="btn btn-primary pull-left sharp" (click)="openAccountCashFlowModal(true)">Add</button>
                </div>       
                
                <div class="col-sm-6 btn-group" id="navAccountCategory">
                    <button type="button" class="btn btn-default pull-right sharp" (click)="collectionAccountCashFlow.moveToFirstPage()">
                        <span class="glyphicon glyphicon-fast-backward"></span>
                    </button>
                    <button type="button" class="btn btn-default pull-right sharp" (click)="collectionAccountCashFlow.moveToPreviousPage()">
                        <span class="glyphicon glyphicon-step-backward"></span>
                    </button>
                    <button type="button" class="btn btn-default pull-right sharp" disabled  style="width:100px">
                        {{collectionAccountCashFlow.pageIndex + 1}} / {{collectionAccountCashFlow.pageCount}}
                    </button>
                    <button type="button" class="btn btn-default pull-right sharp" (click)="collectionAccountCashFlow.moveToNextPage()">
                        <span class="glyphicon glyphicon-step-forward"></span>
                    </button>
                    <button type="button" class="btn btn-default pull-right sharp" (click)="collectionAccountCashFlow.moveToLastPage()">
                        <span class="glyphicon glyphicon-fast-forward"></span>
                    </button>
                </div> 
            </div>             
        </tab>   
             
    </tabs>   
    
</section>

<button id="openDelAccountModal" [hidden]="true" data-toggle="modal" data-target="#delAccountModal"></button>
<button id="openAccountModal" [hidden]="true" data-toggle="modal" data-target="#accountModal"></button>
<button id="openDelAccountCategoryModal" [hidden]="true" data-toggle="modal" data-target="#delAccountCategoryModal"></button>
<button id="openAccountCategoryModal" [hidden]="true" data-toggle="modal" data-target="#accountCategoryModal"></button>
<button id="openDelAccountTypeModal" [hidden]="true" data-toggle="modal" data-target="#delAccountTypeModal"></button>
<button id="openAccountTypeModal" [hidden]="true" data-toggle="modal" data-target="#accountTypeModal"></button>
<button id="openDelAccountCashFlowModal" [hidden]="true" data-toggle="modal" data-target="#delAccountCashFlowModal"></button>
<button id="openAccountCashFlowModal" [hidden]="true" data-toggle="modal" data-target="#accountCashFlowModal"></button>

<div class="modal fade" id="delAccountModal" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header-del">
                <h4 class="modal-title">Account Delete</h4>
            </div>
            <div class="modal-body">
                <p>Delete {{accountMem1}}? </p>
            </div>
            <div class="modal-footer">
                <button id="closeDelAccountModal" type="submit" class="btn btn-primary pull-right sharp" data-dismiss="modal">Close</button>
                <button type="submit" class="btn btn-danger pull-right sharp" (click)="delAccount()">Delete</button>
            </div>
        </div>
    </div>
</div>
    
<div class="modal fade" id="accountModal" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Account</h4>
            </div>
            <div class="modal-body">
                <form>
                    <dl class="dl-horizontal">
                        <dt>Account Code</dt>
                        <dd>
                            <input [(ngModel)]="accountCodeMem1" type="text" class="form-control" required="required" placeholder="Code">
                        </dd>
                        <dt>Account</dt>
                        <dd>
                            <input [(ngModel)]="accountMem1" type="text" class="form-control" required="required" placeholder="Account">
                        </dd>
                        <dt>Account Type</dt>
                        <dd>
                            <wj-combo-box class="input-30" 
                                          [(text)]="accountTypeCodeMem1"
                                          [itemsSource]="dataAccountType"
                                          [displayMemberPath]="'accountTypeCode'"
                                          [(selectedIndex)]="dataAccountType_Index"
                                          (selectedIndexChanged)="dataAccountType_Index_Update()"
                                          [isEditable]="false">
                            </wj-combo-box>        
                            <wj-combo-box class="input-70 pull-right" 
                                          [(text)]="accountTypeMem1"
                                          [itemsSource]="dataAccountType"
                                          [displayMemberPath]="'accountType'"
                                          [(selectedIndex)]="dataAccountType_Index"
                                          (selectedIndexChanged)="dataAccountType_Index_Update()"
                                          [isEditable]="false">
                            </wj-combo-box>                                              
                        </dd>
                        <dt>Cash Flow</dt>
                        <dd>
                            <wj-combo-box class="input-30" 
                                          [(text)]="accountCashFlowCodeMem1"
                                          [itemsSource]="dataAccountCashFlow"
                                          [displayMemberPath]="'accountCashFlowCode'"
                                          [(selectedIndex)]="dataAccountCashFlow_Index"
                                          (selectedIndexChanged)="dataAccountCashFlow_Index_Update()"
                                          [isEditable]="false">
                            </wj-combo-box>        
                            <wj-combo-box class="input-70 pull-right" 
                                          [(text)]="accountCashFlowMem1"
                                          [itemsSource]="dataAccountCashFlow"
                                          [displayMemberPath]="'accountCashFlow'"
                                          [(selectedIndex)]="dataAccountCashFlow_Index"
                                          (selectedIndexChanged)="dataAccountCashFlow_Index_Update()"                                          
                                          [isEditable]="false">
                            </wj-combo-box>  
                        </dd>
                    </dl>
                </form>
            </div>
            <div class="modal-footer">
                <button id="closeAccountModal" type="submit" class="btn btn-danger pull-right sharp" data-dismiss="modal">Close</button>
                <button type="submit" class="btn btn-primary pull-right sharp" (click)="saveAccount()">Save</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="delAccountCategoryModal" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header-del">
                <h4 class="modal-title">Account Category Delete</h4>
            </div>
            <div class="modal-body">
                <p>Delete {{accountCategoryMem2}}? </p>
            </div>
            <div class="modal-footer">
                <button id="closeDelAccountCategoryModal" type="submit" class="btn btn-primary pull-right sharp" data-dismiss="modal">Close</button>
                <button type="submit" class="btn btn-danger pull-right sharp" (click)="delAccountCategory()">Delete</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="accountCategoryModal" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Account Category</h4>
            </div>
            <div class="modal-body">
                <form>
                    <dl class="dl-horizontal">
                        <dt>Account CategoryCode</dt>
                        <dd>
                            <input [(ngModel)]="accountCategoryCodeMem2" type="text" class="form-control" required="required" placeholder="Code">
                        </dd>
                        <dt>Account Category</dt>
                        <dd>
                            <input [(ngModel)]="accountCategoryMem2" type="text" class="form-control" required="required" placeholder="Account">
                        </dd>
                    </dl>
                </form>
            </div>
            <div class="modal-footer">
                <button id="closeAccountCategoryModal" type="submit" class="btn btn-danger pull-right sharp" data-dismiss="modal">Close</button>
                <button type="submit" class="btn btn-primary pull-right sharp" (click)="saveAccountCategory()">Save</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="delAccountTypeModal" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header-del">
                <h4 class="modal-title">Account Type Delete</h4>
            </div>
            <div class="modal-body">
                <p>Delete {{accountTypeMem3}}? </p>
            </div>
            <div class="modal-footer">
                <button id="closeDelAccountTypeModal" type="submit" class="btn btn-primary pull-right sharp" data-dismiss="modal">Close</button>
                <button type="submit" class="btn btn-danger pull-right sharp" (click)="delAccountType()">Delete</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="accountTypeModal" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Account Type</h4>
            </div>
            <div class="modal-body">
                <form>
                    <dl class="dl-horizontal">
                        <dt>Account Type Code</dt>
                        <dd>
                            <input [(ngModel)]="accountTypeCodeMem3" type="text" class="form-control" required="required" placeholder="Code">
                        </dd>
                        <dt>Account Type</dt>
                        <dd>
                            <input [(ngModel)]="accountTypeMem3" type="text" class="form-control" required="required" placeholder="Account">
                        </dd>
                        <dt>Subcategory</dt>
                        <dd>
                            <input [(ngModel)]="subCategoryDescriptionMem3" type="text" class="form-control" required="required" placeholder="Account">
                        </dd>
                        <dt>Account Category</dt>
                        <dd>
                            <wj-combo-box class="input-30" 
                                          [(text)]="accountCategoryCodeMem3"
                                          [itemsSource]="dataAccountCategory"
                                          [displayMemberPath]="'accountCategoryCode'"
                                          [(selectedIndex)]="dataAccountCategory_Index"
                                          (selectedIndexChanged)="dataAccountCategory_Index_Update()"
                                          [isEditable]="false">
                            </wj-combo-box>        
                            <wj-combo-box class="input-70 pull-right" 
                                          [(text)]="accountCategoryMem3"
                                          [itemsSource]="dataAccountCategory"
                                          [displayMemberPath]="'accountCategory'"
                                          [(selectedIndex)]="dataAccountCategory_Index"
                                          (selectedIndexChanged)="dataAccountCategory_Index_Update()"
                                          [isEditable]="false">
                            </wj-combo-box>  
                        </dd>
                    </dl>
                </form>
            </div>
            <div class="modal-footer">
                <button id="closeAccountTypeModal" type="submit" class="btn btn-danger pull-right sharp" data-dismiss="modal">Close</button>
                <button type="submit" class="btn btn-primary pull-right sharp" (click)="saveAccountType()">Save</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="delAccountCashFlowModal" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header-del">
                <h4 class="modal-title">Account Cash Flow Delete</h4>
            </div>
            <div class="modal-body">
                <p>Delete {{accountCashFlowMem4}}? </p>
            </div>
            <div class="modal-footer">
                <button id="closeDelAccountCashFlowModal" type="submit" class="btn btn-primary pull-right sharp" data-dismiss="modal">Close</button>
                <button type="submit" class="btn btn-danger pull-right sharp" (click)="delAccountCashFlow()">Delete</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="accountCashFlowModal" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Account Cash Flow</h4>
            </div>
            <div class="modal-body">
                <form>
                    <dl class="dl-horizontal">
                        <dt>Account Cash Flow Code</dt>
                        <dd>
                            <input [(ngModel)]="accountCashFlowCodeMem4" type="text" class="form-control" required="required" placeholder="Code">
                        </dd>
                        <dt>Account Cash Flow</dt>
                        <dd>
                            <input [(ngModel)]="accountCashFlowMem4" type="text" class="form-control" required="required" placeholder="Account">
                        </dd>
                    </dl>
                </form>
            </div>
            <div class="modal-footer">
                <button id="closeAccountCashFlowModal" type="submit" class="btn btn-danger pull-right sharp" data-dismiss="modal">Close</button>
                <button type="submit" class="btn btn-primary pull-right sharp" (click)="saveAccountCashFlow()">Save</button>
            </div>
        </div>
    </div>
</div>